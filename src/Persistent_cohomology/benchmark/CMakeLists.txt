project(Persistent_cohomology_benchmark)
  
if (TARGET Boost::program_options AND TARGET gmp::gmpxx AND TARGET gmp::gmp)
  add_executable ( performance_rips_persistence EXCLUDE_FROM_ALL performance_rips_persistence.cpp )
  target_link_libraries(performance_rips_persistence Boost::program_options gmp::gmpxx gmp::gmp)
  if(TARGET TBB::tbb)
    target_link_libraries(performance_rips_persistence TBB::tbb)
  endif()
  file(COPY "${CMAKE_SOURCE_DIR}/data/points/Kl.off" DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/)
endif()

add_executable ( line line.cpp )
if(TARGET TBB::tbb)
  target_link_libraries(line TBB::tbb)
endif()
add_test(NAME Compare_pers_on_line COMMAND $<TARGET_FILE:line> 1000 10)
