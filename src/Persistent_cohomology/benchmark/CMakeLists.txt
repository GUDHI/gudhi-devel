if(GMP_FOUND)
   if(GMPXX_FOUND)
     if (TARGET Boost::program_options)
       add_executable ( performance_rips_persistence EXCLUDE_FROM_ALL performance_rips_persistence.cpp )
       target_link_libraries(performance_rips_persistence Boost::program_options ${GMPXX_LIBRARIES} ${GMP_LIBRARIES})
       if(TARGET TBB::tbb)
         target_link_libraries(performance_rips_persistence TBB::tbb)
       endif()
       file(COPY "${CMAKE_SOURCE_DIR}/data/points/Kl.off" DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/)
     endif()
   endif(GMPXX_FOUND)
endif(GMP_FOUND)

add_executable_with_targets(line line.cpp TBB::tbb)
add_test(NAME Compare_pers_on_line COMMAND $<TARGET_FILE:line> 1000 10)

add_executable_with_targets(persistence_2d persistence_2d.cpp TBB::tbb)
add_test(NAME Compare_persistence_2d COMMAND $<TARGET_FILE:persistence_2d>)
