add_executable_with_targets(Persistence_matrix_example_representative_cycles_from_matrix example_representative_cycles_from_matrix.cpp TBB::tbb)
add_test(NAME Persistence_matrix_example_representative_cycles_from_matrix COMMAND $<TARGET_FILE:Persistence_matrix_example_representative_cycles_from_matrix>)

add_executable_with_targets(Persistence_matrix_example_simplex_tree_to_matrix example_simplex_tree_to_matrix.cpp TBB::tbb)
add_test(NAME Persistence_matrix_example_simplex_tree_to_matrix COMMAND $<TARGET_FILE:Persistence_matrix_example_simplex_tree_to_matrix>)

add_executable_with_targets(Persistence_matrix_example_remove_insert_swap_with_cycles example_remove_insert_swap_with_cycles.cpp TBB::tbb)
add_test(NAME Persistence_matrix_example_remove_insert_swap_with_cycles COMMAND $<TARGET_FILE:Persistence_matrix_example_remove_insert_swap_with_cycles>)

add_executable_with_targets(Persistence_matrix_example_field_operations example_field_operations.cpp TBB::tbb)
add_test(NAME Persistence_matrix_example_field_operations COMMAND $<TARGET_FILE:Persistence_matrix_example_field_operations>)

add_executable_with_targets(Persistence_matrix_example_dynamic_persistence_from_file example_dynamic_persistence_from_file.cpp TBB::tbb)
file(COPY "dynamic_persistence_example.txt" DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/)
add_test(NAME Persistence_matrix_example_dynamic_persistence_from_file COMMAND $<TARGET_FILE:Persistence_matrix_example_dynamic_persistence_from_file> "${CMAKE_CURRENT_BINARY_DIR}/dynamic_persistence_example.txt" "${CMAKE_CURRENT_BINARY_DIR}/dynamic_persistence_res.txt")
