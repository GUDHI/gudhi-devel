nanobind_add_module(_pers_cub_low_dim _pers_cub_low_dim.cc)
nanobind_add_module(_cubical_complex_ext _cubical_complex.cc)
nanobind_add_module(_ripser_ext _ripser.cc)
nanobind_add_module(_edge_collapse_ext _edge_collapse.cc)
nanobind_add_module(bottleneck bottleneck.cc)
nanobind_add_module(hera hera.cc)

if(TARGET TBB::tbb)
    target_link_libraries(_pers_cub_low_dim PRIVATE TBB::tbb)
    target_link_libraries(_cubical_complex_ext PRIVATE TBB::tbb)
    target_link_libraries(_edge_collapse_ext PRIVATE TBB::tbb)
    target_link_libraries(bottleneck PRIVATE TBB::tbb)
endif()
